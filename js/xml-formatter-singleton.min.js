!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).xmlFormatter=t()}}((function(){return function t(e,n,o){function r(c,u){if(!n[c]){if(!e[c]){var l="function"==typeof require&&require;if(!u&&l)return l(c,!0);if(i)return i(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var a=n[c]={exports:{}};e[c][0].call(a.exports,(function(t){return r(e[c][1][t]||t)}),a,a.exports,t,e,n,o)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(t,e,n){"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t){var e=u();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function i(t){var e="function"==typeof Map?new Map:void 0;return i=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return c(t,arguments,f(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l(o,t)},i(t)}function c(t,e,n){return c=u()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&l(r,n.prototype),r},c.apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ParsingError=void 0;var a,s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,t);var e=r(n);function n(t,o){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t)).cause=o,r}return n}(i(Error));function p(){return h(!1)||function(){var t=g(/^([^<]+)/);if(t){var e={type:"Text",content:t[1]};return{excluded:!1===a.options.filter(e),node:e}}}()||m()||function(){if(a.xml.startsWith("<![CDATA[")){var t=a.xml.indexOf("]]>");if(t>-1){var e=t+3,n={type:"CDATA",content:a.xml.substring(0,e)};return a.xml=a.xml.slice(e),{excluded:!1===a.options.filter(n),node:n}}}}()}function d(){return g(/\s*/),h(!0)||m()||function(){var t=g(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||g(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||g(/^<!DOCTYPE\s+\S+\s+\[[^\]]*]>/);if(t){var e={type:"DocumentType",content:t[0]};return{excluded:!1===a.options.filter(e),node:e}}}()||y(!1)}function y(t){var e=g(t?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(e){for(var n={name:e[1],type:"ProcessingInstruction",attributes:{}};!b()&&!x("?>");){var o=v();if(!o)return;n.attributes[o.name]=o.value}return g(/\?>/),{excluded:!t&&!1===a.options.filter(n),node:n}}}function h(t){var e=g(/^<([^?!</>\s]+)\s*/);if(e){for(var n={type:"Element",name:e[1],attributes:{},children:[]},o=!t&&!1===a.options.filter(n);!(b()||x(">")||x("?>")||x("/>"));){var r=v();if(!r)return;n.attributes[r.name]=r.value}if(g(/^\s*\/>/))return n.children=null,{excluded:o,node:n};g(/\??>/);for(var i=p();i;)i.excluded||n.children.push(i.node),i=p();if(a.options.strictMode){var c="</".concat(n.name,">");if(!a.xml.startsWith(c))throw new s("Failed to parse XML",'Closing tag not matching "'.concat(c,'"'));a.xml=a.xml.slice(c.length)}else g(/^<\/[\w-:.\u00C0-\u00FF]+\s*>/);return{excluded:o,node:n}}}function m(){var t=g(/^<!--[\s\S]*?-->/);if(t){var e={type:"Comment",content:t[0]};return{excluded:!1===a.options.filter(e),node:e}}}function v(){var t,e=g(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(e)return{name:e[1].trim(),value:(t=e[2].trim(),t.replace(/^['"]|['"]$/g,""))}}function g(t){var e=a.xml.match(t);if(e)return a.xml=a.xml.slice(e[0].length),e}function b(){return 0===a.xml.length}function x(t){return 0===a.xml.indexOf(t)}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t.trim();var n=e.filter||function(){return!0};return a={xml:t,options:Object.assign(Object.assign({},e),{filter:n,strictMode:!0===e.strictMode})},function(){for(var t,e=y(!0),n=[],o=d();o;){if("Element"===o.node.type){if(t)throw new Error("Found multiple root nodes");t=o.node}o.excluded||n.push(o.node),o=d()}if(!t)throw new s("Failed to parse XML","Root Element not found");if(0!==a.xml.length)throw new s("Failed to parse XML","Not Well-Formed XML");return{declaration:e?e.node:null,root:t,children:n}}()}n.ParsingError=s,void 0!==e&&"object"===(void 0===n?"undefined":o(n))&&(e.exports=w),n.default=w},{}],"xml-formatter":[function(t,e,n){"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var r=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var i=r(t("xml-parser-xo"));function c(t){var e;if(t.options.indentation||t.options.lineSeparator)for(t.content+=t.options.lineSeparator,e=0;e<t.level;e++)t.content+=t.options.indentation}function u(t,e){t.content+=e}function l(t,e,n){if("string"==typeof t.content)!function(t,e,n){if(!n){var o=t.trim();(e.options.lineSeparator||0===o.length)&&(t=o)}t.length>0&&(!n&&e.content.length>0&&c(e),u(e,t))}(t.content,e,n);else if("Element"===t.type)!function(t,e,n){e.path.push(t.name),!n&&e.content.length>0&&c(e);if(u(e,"<"+t.name),f(e,t.attributes),null===t.children||e.options.forceSelfClosingEmptyTag&&0===t.children.length){var o=e.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";u(e,o)}else if(0===t.children.length)u(e,"></"+t.name+">");else{var r=t.children;u(e,">"),e.level++;var i="preserve"===t.attributes["xml:space"],a=!1;if(!i&&e.options.ignoredPaths&&(y=e.path,h=e.options.ignoredPaths,m="/"+y.join("/"),v=y[y.length-1],a=h.includes(v)||h.includes(m),i=a),!i&&e.options.collapseContent){var s=!1,p=!1,d=!1;r.forEach((function(t,e){"Text"===t.type?(t.content.includes("\n")?(p=!0,t.content=t.content.trim()):0!==e&&e!==r.length-1||n||0===t.content.trim().length&&(t.content=""),t.content.trim().length>0&&(s=!0)):"CDATA"===t.type?s=!0:d=!0})),!s||d&&p||(i=!0)}r.forEach((function(t){l(t,e,n||i)})),e.level--,n||i||c(e),a&&function(t){var e;for(t.content=t.content.replace(/ +$/,""),e=0;e<t.level;e++)t.content+=t.options.indentation}(e),u(e,"</"+t.name+">")}var y,h,m,v;e.path.pop()}(t,e,n);else{if("ProcessingInstruction"!==t.type)throw new Error("Unknown node type: "+t.type);a(t,e)}}function f(t,e){Object.keys(e).forEach((function(n){var o=e[n].replace(/"/g,"&quot;");u(t," "+n+'="'+o+'"')}))}function a(t,e){e.content.length>0&&c(e),u(e,"<?"+t.name),f(e,t.attributes),u(e,"?>")}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.indentation="indentation"in e?e.indentation:"    ",e.collapseContent=!0===e.collapseContent,e.lineSeparator="lineSeparator"in e?e.lineSeparator:"\r\n",e.whiteSpaceAtEndOfSelfclosingTag=!0===e.whiteSpaceAtEndOfSelfclosingTag,e.throwOnFailure=!1!==e.throwOnFailure;try{var n=(0,i.default)(t,{filter:e.filter,strictMode:e.strictMode}),o={content:"",level:0,options:e,path:[]};return n.declaration&&a(n.declaration,o),n.children.forEach((function(t){l(t,o,!1)})),e.lineSeparator?o.content.replace(/\r\n/g,"\n").replace(/\n/g,e.lineSeparator):o.content}catch(n){if(e.throwOnFailure)throw n;return t}}s.minify=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(t,Object.assign(Object.assign({},e),{indentation:"",lineSeparator:""}))},void 0!==e&&"object"===(void 0===n?"undefined":o(n))&&(e.exports=s),n.default=s},{"xml-parser-xo":1}]},{},[])("xml-formatter")}));
